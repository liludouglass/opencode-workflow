# Task Context Bundle: [TASK-ID]

<!-- Generated by @context-manager for focused task execution -->
<!-- Contains only relevant information for this specific task -->
<!-- Target size: 5-10K tokens -->

---

## Task Metadata

| Field | Value |
|-------|-------|
| **Task ID** | TASK-XXX |
| **Description** | [Brief task description] |
| **Complexity** | [1-5] |
| **Estimated Time** | [X hours] |
| **Dependencies** | [TASK-YYY, TASK-ZZZ] |
| **Status** | [pending \| in_progress \| complete] |

### Acceptance Criteria to Satisfy
- [ ] AC-X: [Specific criterion this task must satisfy]
- [ ] AC-Y: [Another criterion this task must satisfy]
- [ ] AC-Z: [Additional criterion if applicable]

---

## Relevant Spec Sections

<!-- Only spec sections directly related to this task -->
<!-- Extracted from the full specification document -->

### [Section Name]

[Relevant spec content here - only what's needed for this task]

#### Data Models
```typescript
// Only models relevant to this task
interface RelevantModel {
  field1: string;
  field2: number;
}
```

#### API Contracts
```
POST /api/v1/relevant-endpoint
Request: { "field": "value" }
Response: { "result": "success" }
```

#### Behavior Requirements
- **Given**: [Relevant scenario]
- **When**: [Action for this task]
- **Then**: [Expected outcome]

### [Another Relevant Section]

[Additional spec content if needed for this task]

---

## Code Files Context

<!-- Only files that will be modified or are direct dependencies -->

### Files to Modify

#### `src/path/to/file1.ts` (create)
```typescript
// Current state: File does not exist
// Task action: Create new file with [specific functionality]
// Expected outcome: [What the file should contain/do]
```

#### `src/path/to/file2.ts` (modify)
```typescript
// Current relevant sections:
export class ExistingClass {
  // Current implementation relevant to task
  existingMethod() {
    // Current logic that needs modification
  }
}

// Task action: Add new method or modify existing
// Expected outcome: [What changes should be made]
```

### Dependency Files (read-only context)

#### `src/path/to/dependency.ts`
```typescript
// Relevant interfaces/types this task depends on
export interface DependencyInterface {
  requiredField: string;
  optionalField?: number;
}

// Relevant functions this task will use
export function utilityFunction(param: string): boolean {
  // Implementation details if relevant
}
```

---

## Progress History

<!-- Recent progress entries relevant to this task area -->
<!-- Helps understand what's been done and current state -->

### Recent Relevant Entries

#### 2026-01-04 09:30 - TASK-001 - Iteration 2
Agent: @implementer
Action: Completed base model setup that this task depends on
Files: 
  - src/models/base.ts (created)
  - src/types/common.ts (created)
Tests: 3 passing, 0 failing
Commit: abc1234
Status: <complete/>

#### 2026-01-04 10:15 - TASK-002 - Iteration 1
Agent: @implementer
Action: Started related service implementation
Files:
  - src/services/related.ts (created, partial)
Tests: 1 passing, 0 failing, 2 pending
Commit: uncommitted
Status: in_progress

**Note**: TASK-002 is still in progress and may affect shared files

---

## Edge Cases & Error Handling

<!-- Only edge cases and errors relevant to this specific task -->

### Relevant Edge Cases
| Edge Case | Expected Behavior |
|-----------|-------------------|
| [Case relevant to this task] | [How this task should handle it] |
| [Another relevant case] | [Expected handling] |

### Error Scenarios for This Task
| Error Scenario | Error Code | User Message | System Action |
|----------------|------------|--------------|---------------|
| [Scenario this task must handle] | [Code] | [Message] | [Action] |

---

## Implementation Guidance

### Micro-Decomposition Suggestion
Based on the task scope, consider breaking into these atomic steps:
1. [Step 1: Specific atomic action]
2. [Step 2: Another atomic action]
3. [Step 3: Final atomic action]

### Key Considerations
- **Performance**: [Any performance requirements for this task]
- **Security**: [Security considerations specific to this task]
- **Testing**: [What tests need to be written/updated]
- **Integration**: [How this integrates with existing code]

### Potential Blockers
- [Blocker 1: What might prevent completion]
- [Blocker 2: Dependencies that might not be ready]

---

## Token Budget Summary

| Component | Tokens Used | Budget |
|-----------|-------------|--------|
| Task Metadata | ~400 | 500 |
| Spec Sections | ~2,800 | 4,000 |
| Acceptance Criteria | ~600 | 1,000 |
| Code Files | ~3,200 | 4,000 |
| Progress History | ~800 | 1,000 |
| **Total** | **~7,800** | **10,500** |

**Bundle Status**: ✅ Within target range (5K-10K tokens)

---

## Context Generation Log

- **Generated**: 2026-01-04 10:30:15
- **Generator**: @context-manager v2.1
- **Source Spec**: /path/to/spec.md (sections 2.1, 3.4)
- **Source Ticket**: tickets/TASK-XXX.md (via tk show)
- **Relevance Score**: 92% (High)
- **Completeness Score**: 96% (Complete)
- **Efficiency Score**: 8.2K tokens (Efficient)

### Included Content
- ✅ Task metadata and acceptance criteria
- ✅ Relevant spec sections (2.1, 3.4)
- ✅ Files to modify with current state
- ✅ Dependency context
- ✅ Recent progress (last 3 relevant entries)

### Excluded Content
- ❌ Unrelated spec sections (1.x, 2.2-2.9, 4.x)
- ❌ Files not touched by this task
- ❌ Progress from unrelated task areas
- ❌ Detailed implementation examples (available in full spec)

---

<!-- End of context bundle -->
<!-- Agent should have everything needed to execute this task -->
<!-- If critical information is missing, escalate to @context-manager -->